<div class="property-add-container">
  <div class="header-section">
    <div class="header-content">
      <ng-button 
        type="icon"
        icon="arrow_back"
        tooltip="Go back to property list"
        cssClass="back-button"
        (buttonClick)="goBack()">
      </ng-button>
      <div class="header-text">
        <h1>Add New Property</h1>
        <p>Create a detailed listing for your property</p>
      </div>
    </div>
  </div>

  <div class="form-container">
    <form [formGroup]="propertyForm" (ngSubmit)="onSubmit()">
      <!-- Basic Information Card -->
      <ng-card 
        title="Basic Information" 
        icon="home"
        class="form-card">
          <div class="form-row">
            <ng-input 
              class="full-width"
              formControlName="title"
              label="Property Title"
              placeholder="e.g., Beautiful 2BHK Apartment in Prime Location"
              suffixIcon="title"
             >
            </ng-input>
          </div>

          <div class="form-row">
            <ng-textarea 
              class="full-width"
              formControlName="description"
              label="Description"
              placeholder="Describe your property features, amenities, and what makes it special..."
              [rows]="4"
              suffixIcon="description">
            </ng-textarea>
          </div>

          <div class="form-row">
            <ng-select 
              class="half-width"
              formControlName="propertyType"
              label="Property Type"
              [options]="propertyTypeOptions"
              placeholder="Select property type"
              suffixIcon="apartment">
            </ng-select>

            <ng-select 
              class="half-width"
              formControlName="bhkConfiguration"
              label="BHK Configuration"
              [options]="bhkConfigurationOptions"
              placeholder="Select BHK configuration"
              suffixIcon="bed">
            </ng-select>
          </div>

          <div class="form-row">
            <ng-input 
              class="third-width"
              formControlName="floorNumber"
              label="Floor Number"
              [type]="InputType.Number"
              placeholder="e.g., 3"
              suffixIcon="layers">
            </ng-input>

            <ng-input 
              class="third-width"
              formControlName="totalFloors"
              label="Total Floors"
              [type]="InputType.Number"
              placeholder="e.g., 10"
              suffixIcon="business">
            </ng-input>

            <ng-input 
              class="third-width"
              formControlName="numberOfBathrooms"
              label="Bathrooms"
              [type]="InputType.Number"
              placeholder="e.g., 2"
              suffixIcon="bathtub">
            </ng-input>
          </div>
      </ng-card>

      <!-- Area & Furnishing Card -->
      <ng-card 
        title="Area & Furnishing" 
        icon="square_foot"
        class="form-card">
          <div class="form-row">
            <ng-input 
              class="half-width"
              formControlName="carpetAreaSqFt"
              label="Carpet Area (sq ft)"
              [type]="InputType.Number"
              placeholder="e.g., 850"
              suffixText="sq ft">
            </ng-input>

            <ng-input 
              class="half-width"
              formControlName="builtUpAreaSqFt"
              label="Built-up Area (sq ft)"
              [type]="InputType.Number"
              placeholder="e.g., 1200"
              suffixText="sq ft">
            </ng-input>
          </div>

          <div class="form-row">
            <ng-select 
              class="half-width"
              formControlName="furnishingType"
              label="Furnishing Type"
              [options]="furnishingTypeOptions"
              placeholder="Select furnishing type"
              suffixIcon="chair">
            </ng-select>

            <ng-input 
              class="half-width"
              formControlName="numberOfBalconies"
              label="Balconies"
              [type]="InputType.Number"
              placeholder="e.g., 2"
              suffixIcon="deck">
            </ng-input>
          </div>
      </ng-card>

      <!-- Location Card -->
      <ng-card 
        title="Location Details" 
        icon="place"
        class="form-card">
          <div class="form-row">
            <ng-input 
              class="full-width"
              formControlName="addressLine1"
              label="Address Line 1"
              placeholder="House/Flat number, Building name"
              suffixIcon="home">
            </ng-input>
          </div>

          <div class="form-row">
            <ng-input 
              class="full-width"
              formControlName="addressLine2"
              label="Address Line 2"
              placeholder="Street, Area (Optional)"
              suffixIcon="location_on">
            </ng-input>
          </div>

          <div class="form-row">
            <ng-input 
              class="half-width"
              formControlName="landmark"
              label="Landmark"
              placeholder="Near Metro, Mall, etc."
              suffixIcon="map">
            </ng-input>

            <ng-input 
              class="half-width"
              formControlName="locality"
              label="Locality"
              placeholder="Sector, Area name"
              suffixIcon="location_city">
            </ng-input>
          </div>

          <div class="form-row">
            <ng-input 
              class="third-width"
              formControlName="city"
              label="City"
              placeholder="e.g., Mumbai"
              suffixIcon="location_city">
            </ng-input>

            <ng-input 
              class="third-width"
              formControlName="state"
              label="State"
              placeholder="e.g., Maharashtra"
              suffixIcon="public">
            </ng-input>

            <ng-input 
              class="third-width"
              formControlName="pinCode"
              label="PIN Code"
              placeholder="e.g., 400001"
              suffixIcon="markunread_mailbox">
            </ng-input>
          </div>
      </ng-card>

      <!-- Rent Details Card -->
      <ng-card 
        title="Rent Details" 
        icon="payments"
        class="form-card">
          <div class="form-row">
            <ng-input 
              class="half-width"
              formControlName="monthlyRent"
              label="Monthly Rent"
              [type]="InputType.Number"
              placeholder="e.g., 25000"
              prefixText="₹ "
              suffixText="/month">
            </ng-input>

            <ng-input 
              class="half-width"
              formControlName="securityDeposit"
              label="Security Deposit"
              [type]="InputType.Number"
              placeholder="e.g., 50000"
              prefixText="₹ ">
            </ng-input>
          </div>

          <div class="form-row">
            <ng-datepicker 
              class="half-width"
              formControlName="availableFrom"
              label="Available From">
            </ng-datepicker>

            <ng-select 
              class="half-width"
              formControlName="leaseType"
              label="Lease Type"
              [options]="leaseTypeOptions"
              placeholder="Select lease type"
              suffixIcon="schedule">
            </ng-select>
          </div>

          <div class="form-row">
            <ng-checkbox 
              formControlName="isNegotiable"
              label="Rent is negotiable"
              class="negotiable-checkbox">
            </ng-checkbox>
          </div>
      </ng-card>

      <!-- Property Images Card -->
      <ng-card 
        title="Property Images" 
        subtitle="Upload high-quality images to showcase your property (Max 10 images, 5MB each)"
        icon="photo_library"
        class="form-card">
          <ng-file-upload
            formControlName="propertyImages"
            label="Property Images"
            [config]="imageUploadConfig"
            dragText="Drag and drop property images here or click to browse"
            hint="Upload clear, well-lit photos of different rooms and areas of your property"
            clarifyText="Good quality images help attract more tenants. Include photos of living room, bedrooms, kitchen, bathrooms, and any special features."
            (filesSelected)="onImagesSelected($event)"
            (fileRemoved)="onImageRemoved($event)"
            (uploadError)="onImageUploadError($event)">
          </ng-file-upload>
      </ng-card>

      <!-- Amenities Card -->
      <ng-card 
        title="Amenities & Features" 
        icon="apartment"
        class="form-card">
          <div class="amenities-grid">
            <ng-checkbox 
              formControlName="hasLift"
              label="Lift Available"
              icon="elevator"
              class="amenity-checkbox">
            </ng-checkbox>

            <ng-checkbox 
              formControlName="hasParking"
              label="Parking"
              icon="local_parking"
              class="amenity-checkbox">
            </ng-checkbox>

            <ng-checkbox 
              formControlName="hasPowerBackup"
              label="Power Backup"
              icon="battery_charging_full"
              class="amenity-checkbox">
            </ng-checkbox>

            <ng-checkbox 
              formControlName="hasWaterSupply"
              label="24/7 Water Supply"
              icon="water_drop"
              class="amenity-checkbox">
            </ng-checkbox>

            <ng-checkbox 
              formControlName="hasGasPipeline"
              label="Gas Pipeline"
              icon="local_fire_department"
              class="amenity-checkbox">
            </ng-checkbox>

            <ng-checkbox 
              formControlName="hasSecurity"
              label="Security"
              icon="security"
              class="amenity-checkbox">
            </ng-checkbox>

            <ng-checkbox 
              formControlName="hasInternet"
              label="Internet/WiFi Ready"
              icon="wifi"
              class="amenity-checkbox">
            </ng-checkbox>
          </div>
      </ng-card>

      <!-- Action Buttons -->
      <div class="action-buttons">
        <ng-button 
          type="outlined"
          [label]="isSavingDraft ? 'Saving Draft...' : 'Save as Draft'"
          [icon]="isSavingDraft ? 'hourglass_empty' : 'save'"
          tooltip="Save your progress and continue later"
          [disabled]="isSavingDraft"
          (buttonClick)="saveDraft()">
        </ng-button>
        
        <ng-button 
          type="filled"
          [label]="isSaving ? 'Publishing...' : 'List Property'"
          [icon]="isSaving ? 'hourglass_empty' : 'publish'"
          tooltip="Publish your property listing"
          [disabled]="isSaving || isSavingDraft"
          (buttonClick)="onSubmit()">
        </ng-button>
      </div>
    </form>
  </div>
</div>