<div style="padding: 20px">
  <h2>OIDC Test Component</h2>

  <!-- Login / Logout -->
  @if (!user) {
    <button (click)="login()">Login</button>
  }
  @if (user) {
    <button (click)="logout()">Logout</button>
  }

  <hr />

  <!-- User Token Info -->
  @if (user) {
    <div>
      <h3>User Info</h3>
      <p><b>Id Token:</b> {{ user.id_token }}</p>
      <p><b>Access Token:</b> {{ user.access_token }}</p>
      <p><b>Expires:</b> {{ user.expires_at * 1000 | date:'medium' }}</p>
    </div>
  }

  <hr />

  <!-- Call API -->
  @if (user) {
    <button (click)="callApi()">Call API</button>
  }
  @if (apiResponse) {
    <div>
      <h3>API Response</h3>
      <pre>{{ apiResponse | json }}</pre>
    </div>
  }
</div>
