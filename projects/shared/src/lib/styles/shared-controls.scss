$error-color: #f44336;
$error-border-width: 1px;
$error-font-size: 12px;
$error-line-height: 1.2;

// High priority validation styling - works regardless of container structure
.mat-mdc-form-field.ng-invalid.ng-touched,
.property-add-container .mat-mdc-form-field.ng-invalid.ng-touched,
.form-container .mat-mdc-form-field.ng-invalid.ng-touched,
.form-card .mat-mdc-form-field.ng-invalid.ng-touched,
ng-input .mat-mdc-form-field.ng-invalid.ng-touched,
.property-add-container ng-input .mat-mdc-form-field.ng-invalid.ng-touched {
  .mat-mdc-form-field-outline {
    color: $error-color !important;
  }

  .mat-mdc-form-field-outline-thick {
    color: $error-color !important;
  }

  .mdc-notched-outline__leading,
  .mdc-notched-outline__notch,
  .mdc-notched-outline__trailing {
    border-color: $error-color !important;
    border-width: $error-border-width !important;
  }

  .mat-mdc-form-field-label {
    color: $error-color !important;
  }

  .mat-icon,
  .clarify-icon,
  .mat-mdc-form-field-icon-suffix,
  .mat-mdc-form-field-icon-prefix {
    color: $error-color !important;
  }

  // Target ng-clarify-text icons
  ng-clarify-text .clarify-icon,
  cl-clarify-text .clarify-icon {
    color: $error-color !important;
  }
}

.mat-mdc-form-field-error {
  color: $error-color !important;
  font-size: $error-font-size !important;
  margin-top: 4px !important;
  margin-bottom: 0 !important;
  line-height: $error-line-height !important;
}

.mat-mdc-form-field {
  margin-bottom: 16px;

  &:last-child {
    margin-bottom: 0;
  }
}

.mat-mdc-form-field {
  input,
  textarea,
  select {
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
  }
}

// Form field width styling
.ng-textarea-field,
.ng-select-field,
.ng-datepicker-field,
.full-width-input {
  width: 100%;
}

// Textarea specific behavior
.ng-textarea-field textarea {
  resize: vertical;
  min-height: 60px;
}

// Checkbox/Toggle styling (using individual validation now)
.ng-checkbox-wrapper,
.ng-toggle-wrapper {
  display: block;
  margin-bottom: 16px;

  &:last-child {
    margin-bottom: 0;
  }

  // Error styling applied when wrapper has ng-invalid class
  &.ng-invalid {
    .mat-icon,
    .clarify-icon,
    ng-clarify-text .clarify-icon,
    cl-clarify-text .clarify-icon,
    ng-label,
    cl-label {
      color: $error-color !important;
    }
  }
}

// Error message styling for checkbox/toggle
.ng-checkbox-error-message,
.ng-toggle-error-message {
  color: $error-color !important;
  font-size: $error-font-size !important;
  margin-top: 4px !important;
  margin-bottom: 0 !important;
  line-height: $error-line-height !important;
  padding-left: 32px; // Align with checkbox/toggle
}

// Deep styling to ensure validation works in dynamically positioned components
::ng-deep {
  .property-add-container,
  .form-container,
  .form-card {
    .mat-mdc-form-field.ng-invalid.ng-touched {
      .mat-mdc-form-field-outline,
      .mat-mdc-form-field-outline-thick {
        color: $error-color !important;
      }

      .mdc-notched-outline__leading,
      .mdc-notched-outline__notch,
      .mdc-notched-outline__trailing {
        border-color: $error-color !important;
        border-width: $error-border-width !important;
      }

      .mat-mdc-form-field-label {
        color: $error-color !important;
      }

      .mat-icon,
      .clarify-icon,
      .mat-mdc-form-field-icon-suffix,
      .mat-mdc-form-field-icon-prefix {
        color: $error-color !important;
      }

      ng-clarify-text .clarify-icon,
      cl-clarify-text .clarify-icon {
        color: $error-color !important;
      }
    }
  }
}

// Additional debugging styles - force red border for testing
.debug-force-error {
  .mat-mdc-form-field-outline,
  .mat-mdc-form-field-outline-thick {
    color: $error-color !important;
  }

  .mdc-notched-outline__leading,
  .mdc-notched-outline__notch,
  .mdc-notched-outline__trailing {
    border-color: $error-color !important;
    border-width: 2px !important;
  }
}
